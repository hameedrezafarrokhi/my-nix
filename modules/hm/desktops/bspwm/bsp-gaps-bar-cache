#!/bin/sh

# Output file (optional)
OUT="${1:-$HOME/.bsp_gaps_bar_cache}"

# Helper to read a bspwm config value
get() {
    bspc config "$1"
}

{
    echo "#!/bin/sh"
    echo "# Autogenerated bspwm config snapshot"
    echo "# $(date)"

    # Gaps
    echo "bspc config window_gap $(get window_gap)"

    # Paddings
    echo "bspc config top_padding $(get top_padding)"
    echo "bspc config right_padding $(get right_padding)"
    echo "bspc config bottom_padding $(get bottom_padding)"
    echo "bspc config left_padding $(get left_padding)"

} > "$OUT"

chmod +x "$OUT"

echo "Saved bspwm config snapshot to: $OUT"
