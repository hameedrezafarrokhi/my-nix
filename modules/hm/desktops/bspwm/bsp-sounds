#!/usr/bin/env bash

OUT="${1:-$HOME/.config/bspwm/bsp-sounds-toggle}"
PROC="bsp-sounds"
PID=$(pgrep -n "bsp-sounds")

if [ -z "$PID" ]; then
   bsp-sounds
   notify-send "Desktop Sound Effects" "On"
   {
       echo "#!/bin/sh"
       echo "# Autogenerated bspwm config snapshot"
       echo "bsp-sounds"

   } > "$OUT"
   chmod +x "$OUT"
else
   pkill -f "bsp-sounds"
   notify-send "Desktop Sound Effects" "Off"
   {
       echo "#!/bin/sh"
       echo "# Autogenerated bspwm config snapshot"
       echo ""

   } > "$OUT"
   chmod +x "$OUT"
fi

