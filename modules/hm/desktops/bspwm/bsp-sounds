#!/usr/bin/env bash

OUT="${1:-$HOME/.config/bspwm/bsp-sounds-toggle}"
PROC="bsp-de-sounds"
PID=$(pgrep -n "bsp-de-sounds")

if [ -z "$PID" ]; then
   notify-send -e -u low -t 2000 "Desktop Sound Effects" "On"
   {
       echo "#!/bin/sh"
       echo "# Autogenerated bspwm config snapshot"
       echo "bsp-de-sounds"

   } > "$OUT"
   chmod +x "$OUT"
   bsp-de-sounds
else
   pkill -f "bsp-de-sounds"
   notify-send -e -u low -t 2000 "Desktop Sound Effects" "Off"
   {
       echo "#!/bin/sh"
       echo "# Autogenerated bspwm config snapshot"
       echo ""

   } > "$OUT"
   chmod +x "$OUT"
fi

