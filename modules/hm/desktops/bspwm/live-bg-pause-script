#!/usr/bin/env bash

OUT="${1:-$HOME/.config/bspwm/bsp-live-auto-pause}"
PROC="live-bg-auto"
PID=$(pgrep -n "live-bg-auto")

if [ -z "$PID" ]; then
   live-bg-auto
   notify-send -e -u low -t 2000 "Live Wallpaper" "Auto Pause On"
   {
       echo "#!/bin/sh"
       echo "# Autogenerated bspwm config snapshot"
       echo "live-bg-auto"

   } > "$OUT"
   chmod +x "$OUT"
else
   pkill -f "live-bg-auto"
   notify-send -e -u low -t 2000 "Live Wallpaper" "Auto Pause Off"
   {
       echo "#!/bin/sh"
       echo "# Autogenerated bspwm config snapshot"
       echo ""

   } > "$OUT"
   chmod +x "$OUT"
fi

