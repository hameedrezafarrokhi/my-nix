#!/bin/sh

# Output file (optional)
OUT="${1:-$HOME/.bsp_conf}"

# Helper to read a bspwm config value
get() {
    bspc config "$1"
}

{
    echo "#!/bin/sh"
    echo "# Autogenerated bspwm config snapshot"
    echo "# $(date)"
    echo

    # Border
    echo "bspc config border_width $(get border_width)"

    # Gaps
    echo "bspc config window_gap $(get window_gap)"

    # Paddings
    echo "bspc config top_padding $(get top_padding)"
    echo "bspc config right_padding $(get right_padding)"
    echo "bspc config bottom_padding $(get bottom_padding)"
    echo "bspc config left_padding $(get left_padding)"

    echo

    # Border colors
    #echo "bspc config focused_border_color \"$(get focused_border_color)\""
    #echo "bspc config active_border_color \"$(get active_border_color)\""
    #echo "bspc config normal_border_color \"$(get normal_border_color)\""
    #echo "bspc config presel_feedback_color \"$(get presel_feedback_color)\""

} > "$OUT"

chmod +x "$OUT"

echo "Saved bspwm config snapshot to: $OUT"
